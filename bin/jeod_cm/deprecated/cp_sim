#!/bin/bash
#
# cp_sim : script to compile sim and if error occurs during CP 
#          it will create $JEOD_HOME/cp_error file with path to error SIM 
#   Usage: cp_sim 

cdir=`pwd`

# initialize catalog before using CP
catalog -i > /dev/null
# Compile sim
$TRICK_HOME/bin/CP &> /dev/null

# check to see if CP completed without any error
if [[ ! `grep "Simulation make complete" CP_out` ]]; then 
   echo -e "\nSIM ${cdir#$JEOD_HOME/} Failed ..............." >> $JEOD_HOME/CP_error
fi
